@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-space-grotesk: 'Space Grotesk', ui-sans-serif, system-ui, sans-serif;
    --font-space-mono: 'Space Mono', ui-monospace, SFMono-Regular, monospace;
  }
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

a {
  color: inherit;
  text-decoration: none;
}

@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }
}

@layer base {
  :root {
    --radius: 0.625rem;
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 160 84% 39%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 160 84% 39%;
    --chart-1: 160 84% 39%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 160 84% 39%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 160 84% 39%;
    --chart-1: 160 84% 39%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Custom scrollbar styles */
@layer base {
  /* WebKit scrollbars (Chrome, Safari, Edge) */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
    transition: background 0.2s ease;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary) / 0.6);
  }

  ::-webkit-scrollbar-corner {
    background: transparent;
  }

  /* Firefox scrollbars */
  * {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground) / 0.3) transparent;
  }

  /* Overlay scrollbars for supported browsers */
  html {
    scrollbar-gutter: stable both-edges;
  }

  /* Prevent layout shift when modals open */
  body[data-scroll-locked] {
    padding-right: 0 !important;
    margin-right: 0 !important;
  }
}

/* Fullscreen video container styles */
@layer base {
  /* Ensure video container fills fullscreen properly */
  [data-video-container]:fullscreen {
    width: 100vw !important;
    height: 100vh !important;
    max-width: none !important;
    max-height: none !important;
    margin: 0 !important;
    padding: 0 !important;
    background: black;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* WebKit fullscreen support */
  [data-video-container]:-webkit-full-screen {
    width: 100vw !important;
    height: 100vh !important;
    max-width: none !important;
    max-height: none !important;
    margin: 0 !important;
    padding: 0 !important;
    background: black;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* MS fullscreen support */
  [data-video-container]:-ms-fullscreen {
    width: 100vw !important;
    height: 100vh !important;
    max-width: none !important;
    max-height: none !important;
    margin: 0 !important;
    padding: 0 !important;
    background: black;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Ensure video element scales properly in fullscreen */
  [data-video-container]:fullscreen video,
  [data-video-container]:-webkit-full-screen video,
  [data-video-container]:-ms-fullscreen video {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain;
  }

  /* Hide default video controls in all cases */
  video::-webkit-media-controls {
    display: none !important;
  }

  video::-webkit-media-controls-enclosure {
    display: none !important;
  }

  video::-webkit-media-controls-panel {
    display: none !important;
  }

  video::-webkit-media-controls-play-button {
    display: none !important;
  }

  video::-webkit-media-controls-timeline {
    display: none !important;
  }

  video::-webkit-media-controls-current-time-display {
    display: none !important;
  }

  video::-webkit-media-controls-time-remaining-display {
    display: none !important;
  }

  video::-webkit-media-controls-mute-button {
    display: none !important;
  }

  video::-webkit-media-controls-volume-slider {
    display: none !important;
  }

  video::-webkit-media-controls-fullscreen-button {
    display: none !important;
  }

  /* Subtitle styling */
  video::cue {
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    font-size: 18px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.8);
    padding: 0.2em 0.4em;
    border-radius: 2px;
    line-height: 1.2;
    white-space: pre-line;
    /* Hide native subtitles since we're using custom overlay */
    opacity: 0 !important;
    display: none !important;
  }

  video::cue(.large) {
    font-size: 20px;
  }

  video::cue(.small) {
    font-size: 14px;
  }
}
